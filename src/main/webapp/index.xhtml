<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
	<h:head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<link rel="icon" href="/favicon.ico" />
		<title>Contezi fără să votezi</title>
		<!-- Bootstrap core CSS -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<link rel="stylesheet" type="text/css"
			href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />
		<script type="text/javascript"
			src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>

		<!-- Custom styles for this template -->
		<link href="/css/jumbotron-narrow.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="/css/novote.css" />
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
	      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	    <![endif]-->
	    
	    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" />
    	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=places"></script>
    	<script src="/js/autocomplete.js"></script>
	</h:head>
	<h:body onload="initialize()">
		<div class="container">
			<div class="header">
				<ul class="nav nav-pills pull-right" role="tablist">
					<li role="presentation"><a href="/">Home</a></li>
					<li role="presentation" class="active"><a href="/novote">Contezi</a></li>
					<li role="presentation"><a href="/istoric.html">Istoric</a></li>
					<li role="presentation"><a href="/about.html">Despre noi</a></li>
				</ul>
				<h3 class="text-muted">
					<a href="/">Contezi.ro</a>
				</h3>
			</div>
			
			<div class="hero-unit">
				
		        <h2 style="margin-top:-30px; margin-bottom: 30px;">Contezi pentru noi</h2>
		      	
				<h:form id="registrationForm" styleClass="form-horizontal">

					<div class="control-group">
						<label class="control-label" for="name"><h:outputText
								value="#{msg.name}" /></label>
						<div class="controls">
							<h:inputText id="name" value="#{registrations.currentUser.name}" />
							<h:message for="name" styleClass="error" />
						</div>
					</div>
					<div class="control-group #{emailValidator.emailClass}">
						<label class="control-label" for="email"><h:outputText
								value="#{msg.email}" /></label>
						<div class="controls">
							<h:inputText id="email"
								value="#{registrations.currentUser.email}"
								validator="#{emailValidator.emailValidator}" />
							<h:message for="email" styleClass="error" />
						</div>
					</div>
					<div class="control-group #{cnpValidator.cnpClass}">
						<label class="control-label" for="cnp"><h:outputText
								value="#{msg.cnp}" /></label>
						<div class="controls">
							<h:inputText id="cnp" value="#{registrations.currentUser.cnp}"
								validator="#{cnpValidator.cnpValidator}" />
							<h:message for="cnp" styleClass="error" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="autocomplete"><h:outputText
								value="#{msg.address}" /></label>
						<div class="controls">
							<h:inputText id="autocomplete" value="#{registrations.currentUser.address}" />
							<h:message for="autocomplete" styleClass="error" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="locality"><h:outputText
								value="#{msg.city}" /></label>
						<div class="controls">
							<h:inputText id="locality" value="#{registrations.currentUser.city}"  />
							<h:message for="locality" styleClass="error" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="country"><h:outputText
								value="#{msg.country}" /></label>
						<div class="controls">
							<h:inputText id="country" 
								value="#{registrations.currentUser.country}" />
							<h:message for="country" styleClass="error" />
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="candidate"><h:outputText
								value="#{msg.candidate}" /></label>
						<div class="controls">
							<h:selectOneMenu id="candidate"
								value="#{registrations.currentCandidate.name}">
								<f:selectItems value="#{candidates.allCandidates}"
									var="candidate" itemValue="#{candidate.name}"
									itemLabel="#{candidate.name}" />
							</h:selectOneMenu>
							<h:message for="candidate" styleClass="error" />
						</div>
					</div>
					<h:panelGroup rendered="#{!registrations.success}">
						<div class="form-actions">
							<h:commandButton styleClass="btn btn-success" value="#{msg.vote}">
								<f:ajax event="click" listener="#{registrations.register()}"
									execute="@form" render="@form" />
							</h:commandButton>
						</div>
					</h:panelGroup>

					<h:panelGroup rendered="#{registrations.success}">
						<div class="jumbotron">
							<p class="lead">
								<h:outputText value="#{msg.successfulRegistration}" />
							</p>
						</div>
					</h:panelGroup>
					<h:panelGroup rendered="#{registrations.nonExistentCandidate}">
						<div class="jumbotron">
							<p class="lead">
								<h:outputText value="#{msg.nullVote}" />
							</p>
						</div>
					</h:panelGroup>
				</h:form>
			</div>
			<div style="margin-bottom:20px;">
				Contezi.ro nu te va spama niciodată, sub nicio formă. Contezi.ro nu va publica datele tale către nimeni [emailul tău va fi comunicat perechii tale la fel cum și tu vei primi adresa sa]. După terminarea campaniei, vom șterge datele tale din baza noastră de date.
			</div>
			<div class="footer">
				<p>&copy; 2014 Cătălin Lazăr &amp; Ștefan David</p>
			</div>

		</div>
		<!-- /container -->


		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<script src="/js/ie10-viewport-bug-workaround.js"></script>
	</h:body>
</ui:composition>